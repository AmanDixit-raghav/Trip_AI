import {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } from "@google/generative-ai";
  
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location :Las Vegas for 3 days for couple with a Cheap Budget ,Give me a Hotels Option List with HotelName ,Hotel Address ,Price ,hotel image url ,geo coordinates ,rating,descriptions and suggest itinerary withplaceName,PlaceDetails,Place Image Url ,Geo Coordinates ,ticket Pricing ,Time t travel each of the location for 3 days with each day plan with best time to visit in JSON fORMAT"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a couple on a budget in Las Vegas for 3 days, including hotel options and a daily itinerary:\n\n```json\n{\n  \"trip_details\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/e2/3e/9f/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1252,\n        \"longitude\": -115.1696\n      },\n        \"rating\": \"3.5\",\n      \"description\": \"A classic, family-friendly option on the Strip with a casino, free circus acts, and affordable rooms. Slightly dated but great for budget travelers.\",\n      \"amenities\": [\"Casino\",\"Free circus acts\", \"Pool\", \"Affordable rooms\",\"Restaurants\"]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2018/09/excalibur-hotel-las-vegas-exterior-01.jpg\",\n     \"geoCoordinates\": {\n        \"latitude\": 36.0987,\n        \"longitude\": -115.1741\n      },\n      \"rating\":\"4\",\n      \"description\": \"A medieval-themed hotel at the south end of the Strip. Offers budget-friendly accommodations, a pool area, and several dining options.\",\n      \"amenities\": [\"Pool\", \"Affordable Rooms\", \"Restaurants\", \"Casino\", \"Live Entertainment\"]\n    },\n       {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75 per night\",\n      \"hotelImageUrl\": \"https://media.cntraveler.com/photos/60265f8f63f67e1f1521802e/16:9/w_2560%2Cc_limit/OYO-Las-Vegas-Exterior.jpg\",\n      \"geoCoordinates\": {\n         \"latitude\": 36.1002,\n        \"longitude\": -115.1689\n      },\n      \"rating\":\"3.6\",\n      \"description\": \"Located near the Strip with comfortable rooms and basic amenities, OYO is a cost-effective option, and they have  a casino.\",\n      \"amenities\": [\"Casino\", \"Pool\", \"Restaurants\", \"Affordable rooms\",\"Free Parking\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip on a Budget\",\n      \"best_time_to_visit\": \"Morning and Evening\",\n        \"activities\": [\n        {\n          \"placeName\": \"The Las Vegas Strip\",\n          \"placeDetails\": \"Walk along the famous Las Vegas Strip and take in the iconic sights, such as the Bellagio fountains, the Paris Hotel's Eiffel Tower, and the Venetian canals. Enjoy free street performers and people-watching.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5e32dd59046b100008c8f719/master/w_2560%2Cc_limit/The-Las-Vegas-Strip-GettyImages-492148992.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Varies (Walkable or by bus)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Visit the Bellagio's stunning indoor garden which offers breathtaking floral displays. Check their schedule to see the theme which changes seasonally.\",\n         \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/5c/a5/7d/bellagio-conservatory-botanical.jpg?w=1200&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1741\n          },\n           \"ticketPricing\":\"Free\",\n           \"travelTime\":\"Walking distance from the strip\"\n\n        },\n        {\n           \"placeName\": \"Fremont Street Experience\",\n            \"placeDetails\": \"Head to downtown Las Vegas and enjoy the light shows on the canopy-covered Fremont Street.  Lots of street performers and cheap eats.\",\n             \"placeImageUrl\": \"https://i.natgeotv.com/n/d521e9ae-26a2-4b18-9145-032bc13a5ab5/nevada-las-vegas-fremont-street-experience_h11x4.jpg\",\n            \"geoCoordinates\":{\n              \"latitude\": 36.1705,\n               \"longitude\": -115.1400\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"15 -20 minute drive from the Strip or bus route\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Free Attractions and Exploration\",\n      \"best_time_to_visit\": \"Morning and Afternoon\",\n      \"activities\": [\n         {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Walk through the open-air shopping, dining and entertainment district. Enjoy views from the High Roller observation wheel (tickets required, or just stroll around for free).\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5e32d56a16f8e00008d5ffae/master/w_2560%2Cc_limit/LINQ-Promenade-GettyImages-584276683.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1169,\n            \"longitude\": -115.1690\n          },\n          \"ticketPricing\": \"Free to walk around (High Roller ticketed)\",\n           \"travelTime\":\"Walking distance from the Strip\"\n        },\n         {\n          \"placeName\": \"M&M's World\",\n          \"placeDetails\": \"A multi-story, colorful store experience with unique M&M's merchandise and photo opportunities. Fun for all ages.\",\n         \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/9b/20/87/m-ms-world.jpg?w=700&h=-1&s=1\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1082,\n             \"longitude\": -115.1732\n           },\n          \"ticketPricing\": \"Free to browse (purchase optional)\",\n           \"travelTime\":\"Walking distance from the Strip\"\n        },\n         {\n          \"placeName\": \"Ethel M Chocolate Factory & Botanical Cactus Garden\",\n          \"placeDetails\": \"Free self-guided tours of the chocolate factory and stroll through the stunning botanical cactus garden. Located slightly off-strip, so transit or rideshare is required. .\",\n         \"placeImageUrl\": \"https://www.ethelm.com/wp-content/uploads/2020/11/EthelM_CactusGarden_1920x1080.jpg\",\n            \"geoCoordinates\": {\n             \"latitude\": 36.0645,\n            \"longitude\": -115.0670\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"20 - 30 minute drive from the Strip or Bus Route\"\n       }\n      ]\n    },\n      \"day3\": {\n      \"theme\": \"Relaxation and budget entertainment\",\n      \"best_time_to_visit\":\"Morning and Afternoon\",\n      \"activities\": [\n       {\n            \"placeName\": \"Pool Time and Relax\",\n            \"placeDetails\": \"Enjoy time at your hotel pool. Many budget hotels have pools that are free for guests, a great way to relax and enjoy the vegas sun. Pack some snacks and drinks to save money.\",\n             \"placeImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7w3O60pI8gH3j16jN5J7FhW7qL83E8b1v4Q&usqp=CAU\",\n            \"geoCoordinates\": null,\n            \"ticketPricing\":\"Free for hotel guests\",\n            \"travelTime\":\"On hotel premises\"\n        },\n        {\n          \"placeName\":\"Pinball Hall of Fame\",\n           \"placeDetails\":\"Explore a vast collection of vintage and modern pinball machines.  Enjoy hours of fun by paying per game played.\",\n          \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Pinball_Hall_of_Fame_2019.jpg/800px-Pinball_Hall_of_Fame_2019.jpg\",\n           \"geoCoordinates\":{\n             \"latitude\":36.0783,\n              \"longitude\":-115.1541\n           },\n            \"ticketPricing\":\"Pay per play - $0.25 to $1\",\n            \"travelTime\":\"10-15 minute drive from the Strip or Bus Route\"\n        },\n        {\n          \"placeName\":\"Secret Pizza at the Cosmopolitan\",\n            \"placeDetails\": \"Enjoy a budget friendly and highly recommended pizza experience. This is a hidden gem of the Strip located on the 3rd floor of the Cosmopolitan hotel.\",\n              \"placeImageUrl\":\"https://static.independent.co.uk/s3fs-public/thumbnails/image/2019/06/27/11/secret-pizza.jpg?quality=75&width=1200&auto=webp\",\n               \"geoCoordinates\":{\n                   \"latitude\": 36.1094,\n                  \"longitude\": -115.1712\n                },\n            \"ticketPricing\": \"Affordable Prices on Pizza Slices\",\n            \"travelTime\":\"Walking distance from the Strip\"\n\n        }\n      ]\n    }\n  }\n}\n```\n**Notes on Saving Money:**\n\n*   **Food:**  Look for deals, eat off-strip at places like In-N-Out, or share meals. Grab groceries for snacks and breakfast.\n*   **Transportation:** Utilize walking, the bus system, or free trams whenever possible. Avoid frequent taxi/rideshare use.\n*   **Drinks:**  Drink water, or bring your own beverages for the hotel room or pool, rather than buying expensive drinks at the casinos.\n*   **Entertainment:** Focus on free attractions and low-cost activities like walking the Strip, seeing free shows, etc.\n* **Gambling:** If you gamble, set a strict budget, and stick to it.\n\n**Important:**\n\n*   Prices are estimates and can fluctuate. Always check real-time costs when booking.\n*   This is a suggested itinerary, feel free to adjust to your preferences and interests.\n*   Always check for the latest opening hours and policies at each place you plan to visit.\n\nI hope this is helpful for planning your budget trip to Las Vegas!\n"},
          ],
        },
      ],
    });
  
 
export const AI_PROMPT='Generate Travel Plan for Location: {location},for {totalDays} days for {traveller} with a {budget} Budget ,Give me a Hotels Option List with HotelName ,Hotel Address ,Price ,hotel image url ,geo coordinates ,rating,descriptions and suggest itinerary withplaceName,PlaceDetails,Place Image Url ,Geo Coordinates ,ticket Pricing ,Time  travel each of the location for {Days} days with each day plan with best time to visit in JSON fORMAt'